<!DOCTYPE html>
<html>
<head>
  <title>My Blog</title>
</head>
<body bgcolor="#E6E6FA" text="#000000">

  <center>
    <h1>My Web Log</h1>
    <p>~ A collection of my thoughts ~</p>
    <b><a href="../index.html">BACK TO HOME</a></b>
    <b><a href = "../blog.html">BACK TO BLOG</a></b>
  </center>

  <hr>

  <h3>Finding Inconsistent Constraints</h3>
  <p><b>Date:</b> September 28, 2025</p>
  <hr>
  <p><b>The Problem:</b> Given a linear system, Ax = b, how can we identify the inconsistent constraints?  </p>
  <p><b>Some Background:</b> I encountered this problem in my work for the Berkeley Wireless Research Center (BWRC),
specifically, the Argon project, which is a CAD language for analog circuit design. As part of the language,
a way to identify which constraints are conflicting is needed. I also worked on this with some other undergraduates, Justin Yang and Nandan Diwan. </p>
<p> The first thing to note about this problem is that it is NP-hard. Thus, either an algorithm that solves this question
    will be highly accurate but exponential in the worst case and take a long time to run, or it will be a heuristic that runs quickly but sacrifices on accuracy. 
    As such, any solution will have trade-offs. My goal was to find a solution that was reasonably accurate and ran within 500 ms on my computer.
</p>
<p><b>A Quick Tangent about CS 270:</b> A lot of my algorithms were inspired by stuff I learned in CS 270, taught by Satish Rao. I was somewhat suprised by this class, as I thought 
that CS theory wouldn't be that applicable in the real-world, but I was quickly proven wrong. CS 270 actually became
my favorite class, partially as a result of this project. </p>

<h2>My Attempted Solutions</h2>
<h3>L1 Simplex</h3>
<h4>Description</h4>
<p>The first method involves formulating solving Ax = b as a linear program. Specifically,
    we solve min &Sigma; r<sub>i</sub><sup>+</sup> + r<sub>i</sub><sup>-</sup>, subject to the constraints Ax + r<sup>+</sup> - r<sup>-</sup> = b, and r<sup>&plusmn;</sup> &geq; 0. One can notice that this is equivalent to
minimizing the L1 Norm. Now, every linear program has a dual, and we actually only look for the dual values here. From complementary slackness, if the dual variable is equal to &plusmn;1, then the corresponding constraint is either active or is high stress. 
Thus, we solve the linear program, and just look at the high magnitude dual values. </p> 
</p>
<p>Why use L1 and not L2? I decided on L1 because each constraint is weighted by its residual in the L2 gradient, whereas, in the L1 subgradient, each constraint is only weighted by the <i>sign</i> of the residual. Obviously, minimizing the L2 norm is way faster, but theoretically, L1 is better suited for this task.  </p>
<h4> Results</h4>
<p>Initially, I wrote everything in Python, for ease of testing. I first tested this matrix out on a 1000x1000 matrix; the algorithm took ~1.3 seconds on a dense matrix and ~0.6 on a sparse one. It was highly accurate, and was able to pinpoint most of the inconsistent constraints. I found that using
    the simplex algorithm was the fastest; interior point methods were far slower. Using the closed-source Gurobi optimizer, which if I recall correctly, is free for academic use, I was able to get it down to almost 100 ms on dense matrices.
However, for the specific problem I was working with, the system was rarely going to be square. After testing it on nonsquare matrices, I found that the accuracy fell off a cliff; it became almost useless, classifying almost every constraint as being inconsistent.  </p>  
<hr>
  <br>
  <p><i><font size="-1">Copyright 2025 - s-n-sharma</font></i></p>

</body>
</html>
